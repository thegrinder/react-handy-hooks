(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"./src/index.js":function(e,n,t){"use strict";var r=t("./node_modules/react/index.js"),a=t("./node_modules/fast-deep-equal/index.js"),o=t.n(a);function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.forEach(function(n){u(e,n,t[n])})}return e}function u(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(t.push(i.value),!n||t.length!==n);r=!0);}catch(l){a=!0,o=l}finally{try{r||null==u.return||u.return()}finally{if(a)throw o}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var c=function(e){var n=e.initialValues,t=e.validate,a=e.onSubmit,c=l(Object(r.useState)(n),2),s=c[0],m=c[1],p=l(Object(r.useState)({}),2),d=p[0],f=p[1],h=l(Object(r.useState)({}),2),g=h[0],v=h[1],b=function(e){t&&f(t(e))};Object(r.useEffect)(function(){b(s)},[]);var y=!!Object.keys(d).length,E=o()(n,s);return{getFieldProps:function(e){return{error:d[e],touched:!!g[e],value:s[e],onChange:function(n){var t=i({},s,u({},e,n.target.value));m(t),b(t)},onBlur:function(){v(i({},g,u({},e,!0)))}}},invalid:y,pristine:E,handleSubmit:function(e){e.preventDefault(),!y&&a&&a(s)},resetForm:function(){m(n),f({}),v({})}}},s=function(e,n){return(e%n+n)%n},m={13:"Enter",27:"Escape",32:" ",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown"},p=function(e){return function(n){var t=n.key||m[n.keyCode];return e===t}},d=p("ArrowDown"),f=p("ArrowUp");p("ArrowLeft"),p("ArrowRight"),p("Enter"),p("Escape"),p(" ");function h(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.forEach(function(n){g(e,n,t[n])})}return e}function g(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function v(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(t.push(i.value),!n||t.length!==n);r=!0);}catch(l){a=!0,o=l}finally{try{r||null==u.return||u.return()}finally{if(a)throw o}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var b=function(){var e=Object(r.useRef)([]).current,n=function(n){return function(t){null===t?e.splice(n,1):e[n]=t}},t=Object(r.useRef)([]).current,a=function(e){return function(n){null===n?t.splice(e,1):t[e]=n}},o=v(Object(r.useState)([]),2),i=o[0],u=o[1],l=function(e){return i.includes(e)},c=function(e){var n=t[e],r={overflow:"hidden",transition:"height 200ms linear"};return n&&l(e)?h({},r,{height:"".concat(n.clientHeight,"px")}):h({},r,{height:"0px"})},m=v(Object(r.useState)(-1),2),p=m[0],g=m[1],b=function(e){return function(){g(e),function(e){u(function(n){return n.includes(e)?n.filter(function(n){return n!==e}):n.concat(e)})}(e)}},y=function(n){var t=e[n];t&&t.focus()},E=function(e){return function(){return g(e)}},D=function(e){return"".concat(e,"-tab")},w=function(n){var t=e.length;if(f(n)){n.preventDefault();var r=s(p-1,t);g(r),y(r)}else if(d(n)){n.preventDefault();var a=s(p+1,t);g(a),y(a)}};return{getHeaderProps:function(e,t){return{"aria-controls":D(e),"aria-disabled":l(t),"aria-expanded":l(t),id:e,key:e,onClick:b(t),onFocus:E(t),onKeyDown:w,ref:n(t)}},getSectionProps:function(e,n){return{"aria-hidden":!l(n),"aria-labelledby":e,id:D(e),key:D(e),ref:a(n),role:"region",style:c(n)}},isActiveSection:l}};t.d(n,"b",function(){return c}),t.d(n,"a",function(){return b})},"./src/useForm/useForm.mdx":function(e,n,t){"use strict";t.r(n),t.d(n,"default",function(){return f});var r=t("./node_modules/react/index.js"),a=t.n(r),o=t("./node_modules/@mdx-js/tag/dist/index.js"),i=t("./node_modules/docz/dist/index.m.js"),u=t("./src/index.js");function l(e){return(l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}function s(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,n){return!n||"object"!==l(n)&&"function"!==typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,n){return(d=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var f=function(e){function n(e){var t;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),(t=m(this,p(n).call(this,e))).layout=null,t}var t,r,l;return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&d(e,n)}(n,a.a.Component),t=n,(r=[{key:"render",value:function(){var e=this.props,n=e.components,t=c(e,["components"]);return a.a.createElement(o.MDXTag,{name:"wrapper",components:n},a.a.createElement(o.MDXTag,{name:"h1",components:n,props:{id:"useform"}},"useForm"),a.a.createElement(o.MDXTag,{name:"p",components:n},"useAccordion is a simple react hook that allows you to build forms quickly."),a.a.createElement(o.MDXTag,{name:"h2",components:n,props:{id:"arguments"}},"Arguments"),a.a.createElement(o.MDXTag,{name:"p",components:n},"useAccordion accepts an object with ",a.a.createElement(o.MDXTag,{name:"inlineCode",components:n,parentName:"p"},"initialValues"),", ",a.a.createElement(o.MDXTag,{name:"inlineCode",components:n,parentName:"p"},"validate"),", and ",a.a.createElement(o.MDXTag,{name:"inlineCode",components:n,parentName:"p"},"onSubmit")," properties as its only argument."),a.a.createElement(o.MDXTag,{name:"h3",components:n,props:{id:"initialvalues"}},a.a.createElement(o.MDXTag,{name:"strong",components:n,parentName:"h3"},"initialValues")),a.a.createElement(o.MDXTag,{name:"p",components:n},"It's the only required property. It's an object consisting of field names and its corresponding values."),a.a.createElement(o.MDXTag,{name:"h3",components:n,props:{id:"validate"}},a.a.createElement(o.MDXTag,{name:"strong",components:n,parentName:"h3"},"validate")),a.a.createElement(o.MDXTag,{name:"p",components:n},"It's a function that returns errors object where the keys are the field names and the values - the corresponding errors."),a.a.createElement(o.MDXTag,{name:"h3",components:n,props:{id:"onsubmit"}},a.a.createElement(o.MDXTag,{name:"strong",components:n,parentName:"h3"},"onSubmit")),a.a.createElement(o.MDXTag,{name:"p",components:n},"It's a function called with form values."),a.a.createElement(o.MDXTag,{name:"h2",components:n,props:{id:"returned-object"}},"Returned object"),a.a.createElement(o.MDXTag,{name:"p",components:n},"useAccordion returns an object with the following properties, ",a.a.createElement(o.MDXTag,{name:"inlineCode",components:n,parentName:"p"},"getFieldProps"),", ",a.a.createElement(o.MDXTag,{name:"inlineCode",components:n,parentName:"p"},"invalid"),", ",a.a.createElement(o.MDXTag,{name:"inlineCode",components:n,parentName:"p"},"pristine"),", ",a.a.createElement(o.MDXTag,{name:"inlineCode",components:n,parentName:"p"},"handleSubmit"),"and ",a.a.createElement(o.MDXTag,{name:"inlineCode",components:n,parentName:"p"},"resetForm"),"."),a.a.createElement(o.MDXTag,{name:"h3",components:n,props:{id:"getfieldprops"}},a.a.createElement(o.MDXTag,{name:"strong",components:n,parentName:"h3"},"getFieldProps")),a.a.createElement(o.MDXTag,{name:"p",components:n},"It's a function that takes in a field's name, and returns all the handlers and flags needed to to create a form field.\nHere is the list of returned handlers/flags:"),a.a.createElement(o.MDXTag,{name:"ul",components:n},a.a.createElement(o.MDXTag,{name:"li",components:n,parentName:"ul"},"error"),a.a.createElement(o.MDXTag,{name:"li",components:n,parentName:"ul"},"touched"),a.a.createElement(o.MDXTag,{name:"li",components:n,parentName:"ul"},"value"),a.a.createElement(o.MDXTag,{name:"li",components:n,parentName:"ul"},"onChange"),a.a.createElement(o.MDXTag,{name:"li",components:n,parentName:"ul"},"onBlur")),a.a.createElement(o.MDXTag,{name:"h3",components:n,props:{id:"invalid"}},a.a.createElement(o.MDXTag,{name:"strong",components:n,parentName:"h3"},"invalid")),a.a.createElement(o.MDXTag,{name:"p",components:n},"It's a boolean that signals whether the form is invalid."),a.a.createElement(o.MDXTag,{name:"h3",components:n,props:{id:"pristine"}},a.a.createElement(o.MDXTag,{name:"strong",components:n,parentName:"h3"},"pristine")),a.a.createElement(o.MDXTag,{name:"p",components:n},"It's a boolean that signals whether the form values are equal to its initial values."),a.a.createElement(o.MDXTag,{name:"h3",components:n,props:{id:"handlesubmit"}},a.a.createElement(o.MDXTag,{name:"strong",components:n,parentName:"h3"},"handleSubmit")),a.a.createElement(o.MDXTag,{name:"p",components:n},"It's a wrapper function around the given onSubmit that normally should be applied to form's onSubmit."),a.a.createElement(o.MDXTag,{name:"h3",components:n,props:{id:"resetform"}},a.a.createElement(o.MDXTag,{name:"strong",components:n,parentName:"h3"},"resetForm")),a.a.createElement(o.MDXTag,{name:"p",components:n},"It's a function that resets the form to its initialState;."),a.a.createElement(o.MDXTag,{name:"h2",components:n,props:{id:"example"}},"Example"),a.a.createElement(o.MDXTag,{name:"pre",components:n},a.a.createElement(o.MDXTag,{name:"code",components:n,parentName:"pre",props:{className:"language-js"}},"const Input = ({ error, touched, value, onChange, onBlur }) => (\n  <div>\n    <input\n      onChange={onChange}\n      onBlur={onBlur}\n      value={value}\n    />\n    <div>\n      {touched && error && <span style={{ color: 'red' }}>{error}</span>}\n    </div>\n  </div>\n);\n\nconst validate = (values) => {\n  let errors = {};\n  if (values.name === '') {\n    errors.name = 'required';\n  }\n  return errors;\n};\n\nconst initialValues = {\n  name: '',\n};\n\nconst onSubmit = values => {\n  alert(JSON.stringify(values));\n};\n\nconst Example = () => {\n  const { pristine, invalid, getFieldProps, handleSubmit } = useForm({\n    initialValues,\n    validate,\n    onSubmit,\n  });\n  const { error, touched, value, onChange, onBlur } = getFieldProps('name');\n  return (\n    <form onSubmit={handleSubmit}>\n      <Input\n        error={error}\n        touched={touched}\n        value={value}\n        onChange={onChange}\n        onBlur={onBlur}\n      />\n      <div>\n        <button disabled={pristine || invalid}>submit</button>\n      </div>\n    </form>\n  );\n};\n")),a.a.createElement(i.e,{__position:0,__code:"() => {\n  const Input = ({ error, touched, value, onChange, onBlur }) => (\n    <div>\n      <input onChange={onChange} onBlur={onBlur} value={value} />\n      <div>\n        {touched && error && <span style={{ color: 'red' }}>{error}</span>}\n      </div>\n    </div>\n  )\n  const validate = values => {\n    let errors = {}\n    if (values.name === '') {\n      errors.name = 'required'\n    }\n    return errors\n  }\n\n  const initialValues = {\n    name: '',\n  }\n\n  const onSubmit = values => {\n    alert(JSON.stringify(values))\n  }\n\n  const Example = () => {\n    const { pristine, invalid, getFieldProps, handleSubmit } = useForm({\n      initialValues,\n      validate,\n      onSubmit,\n    })\n    const { error, touched, value, onChange, onBlur } = getFieldProps('name')\n    return (\n      <form onSubmit={handleSubmit}>\n        <Input\n          error={error}\n          touched={touched}\n          value={value}\n          onChange={onChange}\n          onBlur={onBlur}\n        />\n        <div>\n          <button disabled={pristine || invalid}>submit</button>\n        </div>\n      </form>\n    )\n  }\n\n  return <Example />\n}",__scope:{props:this?this.props:t,useForm:u.b}},function(){var e=function(e){var n=e.error,t=e.touched,r=e.value,o=e.onChange,i=e.onBlur;return a.a.createElement("div",null,a.a.createElement("input",{onChange:o,onBlur:i,value:r}),a.a.createElement("div",null,t&&n&&a.a.createElement("span",{style:{color:"red"}},n)))},n=function(e){var n={};return""===e.name&&(n.name="required"),n},t={name:""},r=function(e){alert(JSON.stringify(e))};return a.a.createElement(function(){var o=Object(u.b)({initialValues:t,validate:n,onSubmit:r}),i=o.pristine,l=o.invalid,c=o.getFieldProps,s=o.handleSubmit,m=c("name"),p=m.error,d=m.touched,f=m.value,h=m.onChange,g=m.onBlur;return a.a.createElement("form",{onSubmit:s},a.a.createElement(e,{error:p,touched:d,value:f,onChange:h,onBlur:g}),a.a.createElement("div",null,a.a.createElement("button",{disabled:i||l},"submit")))},null)}))}}])&&s(t.prototype,r),l&&s(t,l),n}();f.__docgenInfo={description:"",methods:[],displayName:"MDXContent"}}}]);
//# sourceMappingURL=src-use-form-use-form.a73c59e67a9c8e63b9c6.js.map