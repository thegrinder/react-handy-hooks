(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"./src/index.js":function(e,n,t){"use strict";var r=t("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=t("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread.js"),a=t("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),o=t("./node_modules/react/index.js"),u=t("./node_modules/fast-deep-equal/index.js"),l=t.n(u),s=function(e){var n=e.initialValues,t=e.validate,u=e.onSubmit,s=e.submitting,c=void 0!==s&&s,b=Object(o.useState)(n),d=Object(a.a)(b,2),m=d[0],f=d[1],p=Object(o.useState)({}),j=Object(a.a)(p,2),O=j[0],h=j[1],v=Object(o.useState)({}),g=Object(a.a)(v,2),y=g[0],x=g[1],_=function(e){t&&h(t(e))};Object(o.useEffect)(function(){_(m)},[]);var E=!!Object.keys(O).length,w=l()(n,m);return{getFieldProps:function(e){return{submitting:c,error:O[e],touched:!!y[e],value:m[e],onChange:function(n){var t=Object(i.a)({},m,Object(r.a)({},e,n.target.value));f(t),_(t)},onBlur:function(){x(Object(i.a)({},y,Object(r.a)({},e,!0)))}}},invalid:E,pristine:w,submitting:c,handleSubmit:function(e){e.preventDefault(),!E&&u&&u(m)},resetForm:function(){f(n),h({}),x({})}}},c=s;s&&s===Object(s)&&Object.isExtensible(s)&&Object.defineProperty(s,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"useForm",filename:"src/useForm/useForm.js"}});var b=function(e,n){return(e%n+n)%n};b&&b===Object(b)&&Object.isExtensible(b)&&Object.defineProperty(b,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"mod",filename:"src/utils/index.js"}});var d={13:"Enter",27:"Escape",32:" ",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown"},m=function(e){return function(n){var t=n.key||d[n.keyCode];return e===t}};m&&m===Object(m)&&Object.isExtensible(m)&&Object.defineProperty(m,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"isKey",filename:"src/utils/index.js"}});var f=m("ArrowDown");"undefined"!==typeof f&&f&&f===Object(f)&&Object.isExtensible(f)&&Object.defineProperty(f,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"isArrowDown",filename:"src/utils/index.js"}});var p=m("ArrowUp");"undefined"!==typeof p&&p&&p===Object(p)&&Object.isExtensible(p)&&Object.defineProperty(p,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"isArrowUp",filename:"src/utils/index.js"}});var j=m("ArrowLeft");"undefined"!==typeof j&&j&&j===Object(j)&&Object.isExtensible(j)&&Object.defineProperty(j,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"isArrowLeft",filename:"src/utils/index.js"}});var O=m("ArrowRight");"undefined"!==typeof O&&O&&O===Object(O)&&Object.isExtensible(O)&&Object.defineProperty(O,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"isArrowRight",filename:"src/utils/index.js"}});var h=m("Enter");"undefined"!==typeof h&&h&&h===Object(h)&&Object.isExtensible(h)&&Object.defineProperty(h,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"isEnter",filename:"src/utils/index.js"}});var v=m("Escape");"undefined"!==typeof v&&v&&v===Object(v)&&Object.isExtensible(v)&&Object.defineProperty(v,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"isEscape",filename:"src/utils/index.js"}});var g=m(" ");"undefined"!==typeof g&&g&&g===Object(g)&&Object.isExtensible(g)&&Object.defineProperty(g,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"isSpace",filename:"src/utils/index.js"}});var y=function(){var e=Object(o.useRef)([]).current,n=function(n){return function(t){null===t?e.splice(n,1):e[n]=t}},t=Object(o.useRef)([]).current,r=function(e){return function(n){null===n?t.splice(e,1):t[e]=n}},u=Object(o.useState)([]),l=Object(a.a)(u,2),s=l[0],c=l[1],d=function(e){return s.includes(e)},m=function(e){var n=t[e],r={overflow:"hidden",transition:"height 200ms linear"};return n&&d(e)?Object(i.a)({},r,{height:"".concat(n.clientHeight,"px")}):Object(i.a)({},r,{height:"0px"})},j=Object(o.useState)(-1),O=Object(a.a)(j,2),h=O[0],v=O[1],g=function(e){return function(){v(e),function(e){c(function(n){return n.includes(e)?n.filter(function(n){return n!==e}):n.concat(e)})}(e)}},y=function(n){var t=e[n];t&&t.focus()},x=function(e){return function(){return v(e)}},_=function(e){return"".concat(e,"-tab")},E=function(n){var t=e.length;if(p(n)){n.preventDefault();var r=b(h-1,t);v(r),y(r)}else if(f(n)){n.preventDefault();var i=b(h+1,t);v(i),y(i)}};return{getHeaderProps:function(e,t){return{"aria-controls":_(e),"aria-disabled":d(t),"aria-expanded":d(t),id:e,key:e,onClick:g(t),onFocus:x(t),onKeyDown:E,ref:n(t)}},getSectionProps:function(e,n){return{"aria-hidden":!d(n),"aria-labelledby":e,id:_(e),key:_(e),ref:r(n),role:"region",style:m(n)}},isActiveSection:d}},x=y;y&&y===Object(y)&&Object.isExtensible(y)&&Object.defineProperty(y,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"useAccordion",filename:"src/useAccordion/useAccordion.js"}});var _=function(){var e={LOADING:"".concat("useRequest","/LOADING"),SUCCEEDED:"".concat("useRequest","/SUCCEEDED"),FAILED:"".concat("useRequest","/FAILED"),FULFILLED:"".concat("useRequest","/FULFILLED")},n=function(){return{type:e.LOADING}},t=function(){return{data:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},type:e.SUCCEEDED}},r=function(n){return{error:n,type:e.FAILED}},u=function(){return{type:e.FULFILLED}},l=Object(o.useReducer)(function(n,t){switch(t.type){case e.LOADING:return Object(i.a)({},n,{error:null,loading:!0,succeeded:!1});case e.SUCCEEDED:return Object(i.a)({},n,{loading:!1,succeeded:!0,initialLoad:!1,data:t.data});case e.FAILED:return Object(i.a)({},n,{loading:!1,initialLoad:!1,error:t.error});case e.FULFILLED:return Object(i.a)({},n,{loading:!1,initialLoad:!1});default:return n}},{loading:!1,initialLoad:!0,succeeded:!1,error:null,data:{}}),s=Object(a.a)(l,2),c=s[0],b=s[1];return{state:c,actions:{loading:function(){return b(n())},succeeded:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return b(t(e))},failed:function(e){return b(r(e))},fulfilled:function(){return b(u())}}}},E=_;_&&_===Object(_)&&Object.isExtensible(_)&&Object.defineProperty(_,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"useRequest",filename:"src/useRequest/useRequest.js"}}),t.d(n,"b",function(){return c}),t.d(n,"a",function(){return x}),t.d(n,"c",function(){return E}),"undefined"!==typeof E&&E&&E===Object(E)&&Object.isExtensible(E)&&Object.defineProperty(E,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"useRequest",filename:"src/index.js"}}),"undefined"!==typeof x&&x&&x===Object(x)&&Object.isExtensible(x)&&Object.defineProperty(x,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"useAccordion",filename:"src/index.js"}}),"undefined"!==typeof c&&c&&c===Object(c)&&Object.isExtensible(c)&&Object.defineProperty(c,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"useForm",filename:"src/index.js"}})},"./src/useForm/useForm.mdx":function(e,n,t){"use strict";t.r(n),t.d(n,"default",function(){return b});var r=t("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/extends.js"),i=t("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),a=(t("./node_modules/react/index.js"),t("./node_modules/@mdx-js/react/dist/index.es.js")),o=t("./node_modules/docz/dist/index.esm.js"),u=t("./src/index.js"),l=function(e){return function(n){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),Object(a.b)("div",n)}},s=(l("Input"),l("Example"),{}),c="wrapper";function b(e){var n=e.components,t=Object(i.a)(e,["components"]);return Object(a.b)(c,Object(r.a)({},s,t,{components:n,mdxType:"MDXLayout"}),Object(a.b)("h1",{id:"useform"},"useForm"),Object(a.b)("p",null,"useForm is a simple react hook that allows you to build forms quickly."),Object(a.b)("h2",{id:"arguments"},"Arguments"),Object(a.b)("p",null,"useForm accepts an object with ",Object(a.b)("inlineCode",{parentName:"p"},"initialValues"),", ",Object(a.b)("inlineCode",{parentName:"p"},"validate"),", ",Object(a.b)("inlineCode",{parentName:"p"},"submitting"),", and ",Object(a.b)("inlineCode",{parentName:"p"},"onSubmit")," properties as its only argument."),Object(a.b)("h3",{id:"initialvalues"},Object(a.b)("strong",{parentName:"h3"},"initialValues")),Object(a.b)("p",null,"It's the only required property. It's an object consisting of field names and its corresponding values."),Object(a.b)("h3",{id:"validate"},Object(a.b)("strong",{parentName:"h3"},"validate")),Object(a.b)("p",null,"It's a function that returns errors object where the keys are the field names and the values - the corresponding errors."),Object(a.b)("h3",{id:"onsubmit"},Object(a.b)("strong",{parentName:"h3"},"onSubmit")),Object(a.b)("p",null,"It's a function called with form values."),Object(a.b)("h3",{id:"submitting"},Object(a.b)("strong",{parentName:"h3"},"submitting")),Object(a.b)("p",null,"It's a boolean passed down to getFieldProps and returned from the hook to facilitate usage with context. It's set to false by default"),Object(a.b)("h2",{id:"returned-object"},"Returned object"),Object(a.b)("p",null,"useForm returns an object with the following properties, ",Object(a.b)("inlineCode",{parentName:"p"},"getFieldProps"),", ",Object(a.b)("inlineCode",{parentName:"p"},"invalid"),", ",Object(a.b)("inlineCode",{parentName:"p"},"pristine"),", ",Object(a.b)("inlineCode",{parentName:"p"},"handleSubmit"),"and ",Object(a.b)("inlineCode",{parentName:"p"},"resetForm"),"."),Object(a.b)("h3",{id:"getfieldprops"},Object(a.b)("strong",{parentName:"h3"},"getFieldProps")),Object(a.b)("p",null,"It's a function that takes in a field's name, and returns all the handlers and flags needed to to create a form field.\nHere is the list of returned handlers/flags:"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},"error"),Object(a.b)("li",{parentName:"ul"},"touched"),Object(a.b)("li",{parentName:"ul"},"submitting"),Object(a.b)("li",{parentName:"ul"},"value"),Object(a.b)("li",{parentName:"ul"},"onChange"),Object(a.b)("li",{parentName:"ul"},"onBlur")),Object(a.b)("h3",{id:"invalid"},Object(a.b)("strong",{parentName:"h3"},"invalid")),Object(a.b)("p",null,"It's a boolean that signals whether the form is invalid."),Object(a.b)("h3",{id:"pristine"},Object(a.b)("strong",{parentName:"h3"},"pristine")),Object(a.b)("p",null,"It's a boolean that signals whether the form values are equal to its initial values."),Object(a.b)("h3",{id:"submitting-1"},Object(a.b)("strong",{parentName:"h3"},"submitting")),Object(a.b)("p",null,"It's a boolean with the same value as the submitting property of the hook argument. Just a convenience flag."),Object(a.b)("h3",{id:"handlesubmit"},Object(a.b)("strong",{parentName:"h3"},"handleSubmit")),Object(a.b)("p",null,"It's a wrapper function around the given onSubmit that normally should be applied to form's onSubmit."),Object(a.b)("h3",{id:"resetform"},Object(a.b)("strong",{parentName:"h3"},"resetForm")),Object(a.b)("p",null,"It's a function that resets the form to its initialState;."),Object(a.b)("h2",{id:"example"},"Example"),Object(a.b)(o.c,{__position:0,__code:"() => {\n  const Input = ({ error, touched, value, onChange, onBlur }) => (\n    <div>\n      <input onChange={onChange} onBlur={onBlur} value={value} />\n      <div>\n        {touched && error && <span style={{ color: 'red' }}>{error}</span>}\n      </div>\n    </div>\n  )\n  const validate = values => {\n    let errors = {}\n    if (values.name === '') {\n      errors.name = 'required'\n    }\n    return errors\n  }\n\n  const initialValues = {\n    name: '',\n  }\n\n  const onSubmit = values => {\n    alert(JSON.stringify(values))\n  }\n\n  const Example = () => {\n    const { pristine, invalid, getFieldProps, handleSubmit } = useForm({\n      initialValues,\n      validate,\n      onSubmit,\n    })\n    const { error, touched, value, onChange, onBlur } = getFieldProps('name')\n    return (\n      <form onSubmit={handleSubmit}>\n        <Input\n          error={error}\n          touched={touched}\n          value={value}\n          onChange={onChange}\n          onBlur={onBlur}\n        />\n        <div>\n          <button disabled={pristine || invalid}>submit</button>\n        </div>\n      </form>\n    )\n  }\n\n  return <Example />\n}",__scope:{props:this?this.props:t,Playground:o.c,useForm:u.b},mdxType:"Playground"},function(){var e=function(e){var n=e.error,t=e.touched,r=e.value,i=e.onChange,o=e.onBlur;return Object(a.b)("div",null,Object(a.b)("input",{onChange:i,onBlur:o,value:r}),Object(a.b)("div",null,t&&n&&Object(a.b)("span",{style:{color:"red"}},n)))},n=function(e){var n={};return""===e.name&&(n.name="required"),n},t={name:""},r=function(e){alert(JSON.stringify(e))};return Object(a.b)(function(){var i=Object(u.b)({initialValues:t,validate:n,onSubmit:r}),o=i.pristine,l=i.invalid,s=i.getFieldProps,c=i.handleSubmit,b=s("name"),d=b.error,m=b.touched,f=b.value,p=b.onChange,j=b.onBlur;return Object(a.b)("form",{onSubmit:c},Object(a.b)(e,{error:d,touched:m,value:f,onChange:p,onBlur:j,mdxType:"Input"}),Object(a.b)("div",null,Object(a.b)("button",{disabled:o||l},"submit")))},{mdxType:"Example"})}))}b&&b===Object(b)&&Object.isExtensible(b)&&Object.defineProperty(b,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"MDXContent",filename:"src/useForm/useForm.mdx"}}),b.isMDXComponent=!0}}]);
//# sourceMappingURL=src-use-form-use-form.9dfb7dddabfc36baeb13.js.map