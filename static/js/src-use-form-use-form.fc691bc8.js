(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"./src/index.js":function(e,t,n){"use strict";var r=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),o=n("./node_modules/react/index.js"),a=n("./node_modules/fast-deep-equal/index.js"),s=n.n(a);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var c=function(e,t){return(e%t+t)%t};c&&c===Object(c)&&Object.isExtensible(c)&&Object.defineProperty(c,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"mod",filename:"src/utils/index.js"}});var l={13:"Enter",27:"Escape",32:" ",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown"},b=function(e){return function(t){var n=t.key||l[t.keyCode];return e===n}};b&&b===Object(b)&&Object.isExtensible(b)&&Object.defineProperty(b,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"isKey",filename:"src/utils/index.js"}});var d=b("ArrowDown");"undefined"!==typeof d&&d&&d===Object(d)&&Object.isExtensible(d)&&Object.defineProperty(d,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"isArrowDown",filename:"src/utils/index.js"}});var f=b("ArrowUp");"undefined"!==typeof f&&f&&f===Object(f)&&Object.isExtensible(f)&&Object.defineProperty(f,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"isArrowUp",filename:"src/utils/index.js"}});var m=b("ArrowLeft");"undefined"!==typeof m&&m&&m===Object(m)&&Object.isExtensible(m)&&Object.defineProperty(m,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"isArrowLeft",filename:"src/utils/index.js"}});var p=b("ArrowRight");"undefined"!==typeof p&&p&&p===Object(p)&&Object.isExtensible(p)&&Object.defineProperty(p,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"isArrowRight",filename:"src/utils/index.js"}});var j=b("Enter");"undefined"!==typeof j&&j&&j===Object(j)&&Object.isExtensible(j)&&Object.defineProperty(j,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"isEnter",filename:"src/utils/index.js"}});var O=b("Escape");"undefined"!==typeof O&&O&&O===Object(O)&&Object.isExtensible(O)&&Object.defineProperty(O,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"isEscape",filename:"src/utils/index.js"}});var g=b(" ");"undefined"!==typeof g&&g&&g===Object(g)&&Object.isExtensible(g)&&Object.defineProperty(g,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"isSpace",filename:"src/utils/index.js"}});var h=function(e,t){return Object.keys(e).filter((function(e){return e!==t})).reduce((function(t,n){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(n,!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,Object(r.a)({},n,e[n]))}),{})};function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(n,!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}h&&h===Object(h)&&Object.isExtensible(h)&&Object.defineProperty(h,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"filterOut",filename:"src/utils/index.js"}});var E=function(e){var t=e.initialValues,n=e.validate,a=e.onSubmit,u=e.submissionErrors,c=e.submitting,l=void 0!==c&&c,b=Object(o.useState)(t),d=Object(i.a)(b,2),f=d[0],m=d[1],p=Object(o.useState)(n?n(t):{}),j=Object(i.a)(p,2),O=j[0],g=j[1],v=Object(o.useState)({}),E=Object(i.a)(v,2),P=E[0],w=E[1],x=Object(o.useState)(void 0),_=Object(i.a)(x,2),D=_[0],S=_[1];Object(o.useEffect)((function(){u&&S(u)}),[u]);var C=Object(o.useCallback)((function(e){n&&g(n(e))}),[n]),k=Object(o.useMemo)((function(){return!!Object.keys(O).length}),[O]),F=Object(o.useMemo)((function(){return s()(t,f)}),[t,f]),N=Object(o.useCallback)((function(e){return{submitting:l,error:O[e],submissionError:D&&D[e],touched:!!P[e],value:f[e],onChange:function(t){var n=y({},f,Object(r.a)({},e,t.target.value));D&&S((function(t){return h(t,e)})),m(n),C(n)},onBlur:function(){w(y({},P,Object(r.a)({},e,!0)))}}}),[O,C,D,l,P,f]),I=Object(o.useCallback)((function(e){e.preventDefault(),!k&&a&&(D&&S(void 0),a(f))}),[k,a,D,f]),A=Object(o.useCallback)((function(){m(t),S(void 0),g({}),w({})}),[t]);return{getFieldProps:N,invalid:k,pristine:F,submitting:l,handleSubmit:I,resetForm:A}},P=E;function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(n,!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}E&&E===Object(E)&&Object.isExtensible(E)&&Object.defineProperty(E,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"useForm",filename:"src/useForm/useForm.js"}});var _=function(){var e=Object(o.useRef)([]).current,t=Object(o.useCallback)((function(t){return function(n){null===n?e.splice(t,1):e[t]=n}}),[e]),n=Object(o.useRef)([]).current,r=Object(o.useCallback)((function(e){return function(t){null===t?n.splice(e,1):n[e]=t}}),[n]),a=Object(o.useState)([]),s=Object(i.a)(a,2),u=s[0],l=s[1],b=Object(o.useCallback)((function(e){return u.includes(e)}),[u]),m=Object(o.useCallback)((function(e){var t=n[e],r={overflow:"hidden",transition:"height 200ms linear"};return t&&b(e)?x({},r,{height:"".concat(t.clientHeight,"px")}):x({},r,{height:"0px"})}),[b,n]),p=Object(o.useState)(-1),j=Object(i.a)(p,2),O=j[0],g=j[1],h=Object(o.useCallback)((function(e){return function(){g(e),function(e){l((function(t){return t.includes(e)?t.filter((function(t){return t!==e})):t.concat(e)}))}(e)}}),[]),v=Object(o.useCallback)((function(t){var n=e[t];n&&n.focus()}),[e]),y=function(e){return function(){return g(e)}},E=function(e){return"".concat(e,"-tab")},P=Object(o.useCallback)((function(t){var n=e.length;if(f(t)){t.preventDefault();var r=c(O-1,n);g(r),v(r)}else if(d(t)){t.preventDefault();var i=c(O+1,n);g(i),v(i)}}),[O,v,e]);return{getHeaderProps:Object(o.useCallback)((function(e,n){return{"aria-controls":E(e),"aria-disabled":b(n),"aria-expanded":b(n),id:e,key:e,onClick:h(n),onFocus:y(n),onKeyDown:P,ref:t(n)}}),[t,h,b,P]),getSectionProps:Object(o.useCallback)((function(e,t){return{"aria-hidden":!b(t),"aria-labelledby":e,id:E(e),key:E(e),ref:r(t),role:"region",style:m(t)}}),[r,m,b]),isActiveSection:b}},D=_;function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(n,!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}_&&_===Object(_)&&Object.isExtensible(_)&&Object.defineProperty(_,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"useAccordion",filename:"src/useAccordion/useAccordion.js"}});var k={loading:!1,initialLoad:!0,succeeded:!1,error:null,data:{}},F={LOADING:"".concat("useRequest","/LOADING"),SUCCEEDED:"".concat("useRequest","/SUCCEEDED"),FAILED:"".concat("useRequest","/FAILED"),FULFILLED:"".concat("useRequest","/FULFILLED")},N=function(){return{type:F.LOADING}},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{data:e,type:F.SUCCEEDED}},A=function(e){return{error:e,type:F.FAILED}},L=function(){return{type:F.FULFILLED}},R=function(e,t){switch(t.type){case F.LOADING:return C({},e,{error:null,loading:!0,succeeded:!1});case F.SUCCEEDED:return C({},e,{loading:!1,succeeded:!0,initialLoad:!1,data:t.data});case F.FAILED:return C({},e,{loading:!1,initialLoad:!1,error:t.error});case F.FULFILLED:return C({},e,{loading:!1,initialLoad:!1});default:return e}},q=function(){var e=Object(o.useReducer)(R,k),t=Object(i.a)(e,2),n=t[0],r=t[1],a=Object(o.useMemo)((function(){return{loading:function(){return r(N())},succeeded:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r(I(e))},failed:function(e){return r(A(e))},fulfilled:function(){return r(L())}}}),[]);return[Object(o.useMemo)((function(){return n}),[n]),a]},M=q;q&&q===Object(q)&&Object.isExtensible(q)&&Object.defineProperty(q,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"useRequest",filename:"src/useRequest/useRequest.js"}});var T=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(o.useState)(e),n=Object(i.a)(t,2),r=n[0],a=n[1],s={toggle:function(){return a((function(e){return!e}))},toggleOn:function(){return a(!0)},toggleOff:function(){return a(!1)}},u=Object(o.useMemo)((function(){return[r,s]}),[s,r]);return u},U=T;T&&T===Object(T)&&Object.isExtensible(T)&&Object.defineProperty(T,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"useToggle",filename:"src/useToggle/useToggle.js"}}),n.d(t,"b",(function(){return P})),n.d(t,"a",(function(){return D})),n.d(t,"c",(function(){return M})),n.d(t,"d",(function(){return U})),"undefined"!==typeof U&&U&&U===Object(U)&&Object.isExtensible(U)&&Object.defineProperty(U,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"useToggle",filename:"src/index.js"}}),"undefined"!==typeof M&&M&&M===Object(M)&&Object.isExtensible(M)&&Object.defineProperty(M,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"useRequest",filename:"src/index.js"}}),"undefined"!==typeof D&&D&&D===Object(D)&&Object.isExtensible(D)&&Object.defineProperty(D,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"useAccordion",filename:"src/index.js"}}),"undefined"!==typeof P&&P&&P===Object(P)&&Object.isExtensible(P)&&Object.defineProperty(P,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"useForm",filename:"src/index.js"}})},"./src/useForm/useForm.mdx":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return f}));var r=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/extends.js"),i=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),o=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),a=n("./node_modules/react/index.js"),s=n("./node_modules/@mdx-js/react/dist/index.es.js"),u=n("./node_modules/docz/dist/index.esm.js"),c=n("./src/index.js"),l=function(e){return function(t){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),Object(s.b)("div",t)}},b=(l("Input"),l("Example"),{}),d="wrapper";function f(e){var t=e.components,n=Object(o.a)(e,["components"]);return Object(s.b)(d,Object(r.a)({},b,n,{components:t,mdxType:"MDXLayout"}),Object(s.b)("h1",{id:"useform"},"useForm"),Object(s.b)("p",null,"useForm is a simple react hook that allows you to build forms quickly."),Object(s.b)("h2",{id:"arguments"},"Arguments"),Object(s.b)("p",null,"useForm accepts an object with ",Object(s.b)("inlineCode",{parentName:"p"},"initialValues"),", ",Object(s.b)("inlineCode",{parentName:"p"},"validate"),", ",Object(s.b)("inlineCode",{parentName:"p"},"submitting"),", and ",Object(s.b)("inlineCode",{parentName:"p"},"onSubmit")," properties as its only argument."),Object(s.b)("h3",{id:"initialvalues"},Object(s.b)("strong",{parentName:"h3"},"initialValues")),Object(s.b)("p",null,"It's the only required property. It's an object consisting of field names and its corresponding values."),Object(s.b)("h3",{id:"validate"},Object(s.b)("strong",{parentName:"h3"},"validate")),Object(s.b)("p",null,"It's a function that returns errors object where the keys are the field names and the values - the corresponding errors."),Object(s.b)("h3",{id:"onsubmit"},Object(s.b)("strong",{parentName:"h3"},"onSubmit")),Object(s.b)("p",null,"It's a function called with form values."),Object(s.b)("h3",{id:"submitting"},Object(s.b)("strong",{parentName:"h3"},"submitting")),Object(s.b)("p",null,"It's a boolean passed down to getFieldProps and returned from the hook to facilitate usage with context. It's set to false by default"),Object(s.b)("h3",{id:"submissionerrors"},Object(s.b)("strong",{parentName:"h3"},"submissionErrors")),Object(s.b)("p",null,"It's an object of errors that you can feed into the hook to handle showing submission errors."),Object(s.b)("h2",{id:"returned-object"},"Returned object"),Object(s.b)("p",null,"useForm returns an object with the following properties, ",Object(s.b)("inlineCode",{parentName:"p"},"getFieldProps"),", ",Object(s.b)("inlineCode",{parentName:"p"},"invalid"),", ",Object(s.b)("inlineCode",{parentName:"p"},"pristine"),", ",Object(s.b)("inlineCode",{parentName:"p"},"handleSubmit"),"and ",Object(s.b)("inlineCode",{parentName:"p"},"resetForm"),"."),Object(s.b)("h3",{id:"getfieldprops"},Object(s.b)("strong",{parentName:"h3"},"getFieldProps")),Object(s.b)("p",null,"It's a function that takes in a field's name, and returns all the handlers and flags needed to to create a form field.\nHere is the list of returned handlers/flags:"),Object(s.b)("ul",null,Object(s.b)("li",{parentName:"ul"},"error"),Object(s.b)("li",{parentName:"ul"},"submissionError"),Object(s.b)("li",{parentName:"ul"},"touched"),Object(s.b)("li",{parentName:"ul"},"submitting"),Object(s.b)("li",{parentName:"ul"},"value"),Object(s.b)("li",{parentName:"ul"},"onChange"),Object(s.b)("li",{parentName:"ul"},"onBlur")),Object(s.b)("h3",{id:"invalid"},Object(s.b)("strong",{parentName:"h3"},"invalid")),Object(s.b)("p",null,"It's a boolean that signals whether the form is invalid."),Object(s.b)("h3",{id:"pristine"},Object(s.b)("strong",{parentName:"h3"},"pristine")),Object(s.b)("p",null,"It's a boolean that signals whether the form values are equal to its initial values."),Object(s.b)("h3",{id:"submitting-1"},Object(s.b)("strong",{parentName:"h3"},"submitting")),Object(s.b)("p",null,"It's a boolean with the same value as the submitting property of the hook argument. Just a convenience flag."),Object(s.b)("h3",{id:"handlesubmit"},Object(s.b)("strong",{parentName:"h3"},"handleSubmit")),Object(s.b)("p",null,"It's a wrapper function around the given onSubmit that normally should be applied to form's onSubmit."),Object(s.b)("h3",{id:"resetform"},Object(s.b)("strong",{parentName:"h3"},"resetForm")),Object(s.b)("p",null,"It's a function that resets the form to its initialState;."),Object(s.b)("h2",{id:"example"},"Example"),Object(s.b)(u.c,{__position:0,__code:"() => {\n  const Input = ({\n    error,\n    submissionError,\n    touched,\n    value,\n    onChange,\n    onBlur,\n  }) => (\n    <div>\n      <input onChange={onChange} onBlur={onBlur} value={value} />\n      <div>\n        {touched && error && <span style={{ color: 'red' }}>{error}</span>}\n        {submissionError && (\n          <span style={{ color: 'red' }}>{submissionError}</span>\n        )}\n      </div>\n    </div>\n  )\n  const validate = values => {\n    let errors = {}\n    if (values.name === '') {\n      errors.name = 'required'\n    }\n    return errors\n  }\n\n  const initialValues = {\n    name: '',\n  }\n\n  const Example = () => {\n    const [submissionErrors, setSubmissionErrors] = useState()\n\n    const onSubmit = useCallback(values => {\n      setTimeout(() => {\n        if (Math.floor(Math.random() * 2) == 0) {\n          alert(JSON.stringify(values))\n        } else {\n          setSubmissionErrors({ name: 'already exists' })\n        }\n      }, 1000)\n    }, [])\n\n    const { pristine, invalid, getFieldProps, handleSubmit } = useForm({\n      initialValues,\n      validate,\n      onSubmit,\n      submissionErrors,\n    })\n\n    const fieldProps = getFieldProps('name')\n\n    return (\n      <form onSubmit={handleSubmit}>\n        <Input {...fieldProps} />\n        <div>\n          <button disabled={pristine || invalid}>submit</button>\n        </div>\n      </form>\n    )\n  }\n\n  return <Example />\n}",__scope:{props:this?this.props:n,useState:a.useState,useCallback:a.useCallback,Playground:u.c,useForm:c.b},mdxType:"Playground"},(function(){var e=function(e){var t=e.error,n=e.submissionError,r=e.touched,i=e.value,o=e.onChange,a=e.onBlur;return Object(s.b)("div",null,Object(s.b)("input",{onChange:o,onBlur:a,value:i}),Object(s.b)("div",null,r&&t&&Object(s.b)("span",{style:{color:"red"}},t),n&&Object(s.b)("span",{style:{color:"red"}},n)))},t=function(e){var t={};return""===e.name&&(t.name="required"),t},n={name:""};return Object(s.b)((function(){var o=Object(a.useState)(),u=Object(i.a)(o,2),l=u[0],b=u[1],d=Object(a.useCallback)((function(e){setTimeout((function(){0==Math.floor(2*Math.random())?alert(JSON.stringify(e)):b({name:"already exists"})}),1e3)}),[]),f=Object(c.b)({initialValues:n,validate:t,onSubmit:d,submissionErrors:l}),m=f.pristine,p=f.invalid,j=f.getFieldProps,O=f.handleSubmit,g=j("name");return Object(s.b)("form",{onSubmit:O},Object(s.b)(e,Object(r.a)({},g,{mdxType:"Input"})),Object(s.b)("div",null,Object(s.b)("button",{disabled:m||p},"submit")))}),{mdxType:"Example"})})))}f&&f===Object(f)&&Object.isExtensible(f)&&Object.defineProperty(f,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"MDXContent",filename:"src/useForm/useForm.mdx"}}),f.isMDXComponent=!0}}]);
//# sourceMappingURL=src-use-form-use-form.91f2b136509d2adba26a.js.map